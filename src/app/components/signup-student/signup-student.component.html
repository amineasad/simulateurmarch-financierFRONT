<!-- src/app/components/signup-student/signup-student.component.html -->

<div class="signup-container">
  <div class="signup-card">
    
    <!-- Header -->
    <div class="header">
      <button class="btn-back" (click)="goBack()">
        ‚Üê Retour
      </button>
      <div class="icon">üéì</div>
      <h1>Inscription √âtudiant</h1>
      <p class="subtitle">Cr√©ez votre compte √©tudiant</p>
    </div>
    
    <!-- Messages -->
    <div class="alert alert-error" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>
    
    <div class="alert alert-success" *ngIf="successMessage">
      {{ successMessage }}
    </div>
    
    <!-- Formulaire -->
    <form (ngSubmit)="onSubmit()" class="form">
      
      <!-- Informations personnelles -->
      <div class="form-section">
        <h3 class="section-title">Informations personnelles</h3>
        
        <div class="form-row">
          <div class="form-group">
            <label>Nom *</label>
            <input 
              type="text" 
              [(ngModel)]="user.nom" 
              name="nom" 
              required
              placeholder="Dupont"
            />
          </div>
          
          <div class="form-group">
            <label>Pr√©nom *</label>
            <input 
              type="text" 
              [(ngModel)]="user.prenom" 
              name="prenom" 
              required
              placeholder="Jean"
            />
          </div>
        </div>
        
        <div class="form-group">
          <label>Email *</label>
          <input 
            type="email" 
            [(ngModel)]="user.email" 
            name="email" 
            required
            placeholder="jean.dupont@student.com"
          />
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label>Mot de passe *</label>
            <input 
              type="password" 
              [(ngModel)]="user.motDePasse" 
              name="motDePasse" 
              required
              placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
            />
          </div>
          
          <div class="form-group">
            <label>Confirmer mot de passe *</label>
            <input 
              type="password" 
              [(ngModel)]="confirmPassword" 
              name="confirmPassword" 
              required
              placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
            />
          </div>
        </div>
      </div>
      
      <!-- Documents -->
      <div class="form-section">
        <h3 class="section-title">Documents</h3>
        
        <div class="form-row">
          <div class="form-group">
            <label>Num√©ro CIN *</label>
            <input 
              type="text" 
              [(ngModel)]="user.cin" 
              name="cin" 
              required
              placeholder="12345678"
              maxlength="8"
            />
          </div>
          
          <div class="form-group">
            <label>Num√©ro carte d'√©tudiant *</label>
            <input 
              type="text" 
              [(ngModel)]="user.carteEtudiant" 
              name="carteEtudiant" 
              required
              placeholder="STU2024001"
            />
          </div>
        </div>
      </div>
      
      <!-- Photos -->
      <div class="form-section">
        <h3 class="section-title">Photos</h3>
        <p class="section-subtitle">Formats accept√©s : JPG, PNG (max 5MB)</p>
        
        <!-- Photo de visage -->
        <div class="photo-upload-group">
          <label class="photo-label">Photo de visage pour votre profil *</label>
          <div class="photo-upload">
            <input 
              type="file" 
              (change)="onPhotoVisageChange($event)" 
              accept="image/*"
              id="photoVisage"
              hidden
            />
            <label for="photoVisage" class="upload-button">
              üì∑ Choisir une photo
            </label>
            <div class="photo-preview" *ngIf="previewPhotoVisage">
              <img [src]="previewPhotoVisage" alt="Preview" />
              <span class="preview-label">‚úì Photo t√©l√©charg√©e</span>
            </div>
          </div>
        </div>
        
        <!-- Photo de face -->
        <div class="photo-upload-group">
          <label class="photo-label">Photo de face *</label>
          <div class="photo-upload">
            <input 
              type="file" 
              (change)="onPhotoFaceChange($event)" 
              accept="image/*"
              id="photoFace"
              hidden
            />
            <label for="photoFace" class="upload-button">
              üì∑ Choisir une photo
            </label>
            <div class="photo-preview" *ngIf="previewPhotoFace">
              <img [src]="previewPhotoFace" alt="Preview" />
              <span class="preview-label">‚úì Photo t√©l√©charg√©e</span>
            </div>
          </div>
        </div>
        
        <!-- Photo de profil -->
        <div class="photo-upload-group">
          <label class="photo-label">Photo de profil *</label>
          <div class="photo-upload">
            <input 
              type="file" 
              (change)="onPhotoProfilChange($event)" 
              accept="image/*"
              id="photoProfil"
              hidden
            />
            <label for="photoProfil" class="upload-button">
              üì∑ Choisir une photo
            </label>
            <div class="photo-preview" *ngIf="previewPhotoProfil">
              <img [src]="previewPhotoProfil" alt="Preview" />
              <span class="preview-label">‚úì Photo t√©l√©charg√©e</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Bouton submit -->
      <button 
        type="submit" 
        class="btn-submit" 
        [disabled]="isLoading"
      >
        <span *ngIf="!isLoading">S'inscrire</span>
        <span *ngIf="isLoading">Inscription en cours...</span>
      </button>
      
    </form>
    
    <!-- Lien connexion -->
    <div class="login-link">
      <p>Vous avez d√©j√† un compte ? <a routerLink="/login">Se connecter</a></p>
    </div>
    
  </div>
</div>